<!--This template displays all users using the aldeed:tabular package -->
<template name='users'>
    <div class='row'>
        <div class="col-sm-4">
            <h2>Faculty</h2>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            {{> tabular table=TabularTables.Users class="table table-striped table-bordered table-condensed"}}
        </div>
    </div>

    {{#if isInRole 'admin'}}
        <div class="row">
            <div class="col-md-12">
                <a href="userForm">
                    <button type="button" id="newUser" class="btn btn-sm btn-default newUser">New User</button>
                </a>
            </div>
        </div>
    {{/if}}
</template>


<!--This template is for creating users -->
<template name="userForm">
    <form id="userForm">
        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" class="form-control" id="username" placeholder="Username">
                </div>
            </div>
            <div class=" col-md-3">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" class="form-control" id="email" placeholder="Email">
                </div>
            </div>
            <div class=" col-md-3">
                <div class="form-group">
                    <label for="password">Password</label>
                    <input type="password" class="form-control" id="password" placeholder="Password"
                           value="{{password}}">
                </div>
            </div>
        </div>


        <div class=" row">
            <div class="col-md-5">
                <div class="form-group">
                    <p>&nbsp;</p>
                    <button type="submit" class="btn btn-success">Submit</button>
                </div>
            </div>

        </div>

    </form>

</template>


<!--This template is for editing users -->
<template name="editUserForm">
    <form id="editUserForm">

        <div class="row">
            <div class="col-md-3">
                <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" class="form-control" id="username" placeholder="Username"
                           value="{{username}}">
                </div>
            </div>
            <div class=" col-md-3">
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" class="form-control" id="email" placeholder="Email"
                           value="{{email}}">
                </div>
            </div>
        </div>


        {{#if isInRole 'admin'}}
        <div class="row">
            <div class="col-md-1"></div>
        </div>

        <div class="row">
            <div class="col-md-1"></div>
            <div class="col-md-8">
                <div class="form-group">
                    <div class="checkbox">
                        {{#if admin}}
                            <input type="checkbox" id="admin" name="admin" checked>
                        {{else}}
                            <input type="checkbox" id="admin" name="admin">
                        {{/if}}
                        Administrator  <span data-toggle="tooltip"
                                             class="glyphicon glyphicon-question-sign"
                                             aria-hidden="true"
                                             title="Can do everything."></span>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-1"></div>
            <div class="col-md-8">
                <div class="form-group">
                    <div class="checkbox">
                        {{#if grader}}
                            <input type="checkbox" id="grader" name="grader" checked>
                        {{else}}
                            <input type="checkbox" id="grader" name="grader">
                        {{/if}}
                        Grader  <span data-toggle="tooltip"
                                      class="glyphicon glyphicon-question-sign"
                                      aria-hidden="true"
                                      title="Can listen to consults, but little else.  Good for people who don't need to be able to edit students, consults, etc."></span>
                    </div>
                </div>
            </div>
        </div>

        <div class=" row">
            <div class="col-md-5">
                <div class="form-group">
                    <p>&nbsp;</p>
                    <button type="submit" class="btn btn-success">Submit</button>
                </div>
            </div>

        </div>


        <input type="hidden" name="_id" id="_id" value="{{_id}}">
        {{/if}}
    </form>


    <div class=" row">&nbsp;</div>
    <div class=" row">&nbsp;</div>
    <div class=" row">&nbsp;</div>

    {{#if isInRole 'admin'}}
    <div class=" row">

        <div class="col-md-2">
            <button type="button" id="deleteUserButton" class="btn btn-sm btn-danger">Delete
            </button>  <span data-toggle="tooltip"
                             class="glyphicon glyphicon-question-sign"
                             aria-hidden="true"
                             title="Before deleting a user, consider whether it would be better to just uncheck their roles, just in case you
                                        want to re-enable them again later."></span>
        </div>

    </div>
    {{/if}}
</template>

